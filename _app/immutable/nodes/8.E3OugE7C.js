import{e as Ft,f as M,a as H,s as $}from"../chunks/C4Rmm3-g.js";import{o as Mt}from"../chunks/D-VuiLkk.js";import{am as Rt,an as zt,x as Et,O as qt,h as It,_ as C,ao as Bt,a6 as Ot,T as ot,l as s,q as S,a9 as g,aa as v,t as F,a7 as Vt,ae as K,ab as Ut,N as Dt,a8 as Gt,ac as f,af as rt}from"../chunks/S0j79fAV.js";import{i as Jt}from"../chunks/BoZOt_zT.js";import{r as Kt,e as Lt,i as Qt}from"../chunks/B_tZDBCa.js";import{h as Zt}from"../chunks/WcKA6lq0.js";import{b as ct}from"../chunks/B69TH7Ic.js";function te(i,T,w=T){var u=new WeakSet;Rt(i,"input",async l=>{var t=l?i.defaultValue:i.value;if(t=L(i)?Q(t):t,w(t),C!==null&&u.add(C),await zt(),t!==(t=T())){var m=i.selectionStart,h=i.selectionEnd,b=i.value.length;if(i.value=t??"",h!==null){var j=i.value.length;m===h&&h===b&&j>b?(i.selectionStart=j,i.selectionEnd=j):(i.selectionStart=m,i.selectionEnd=Math.min(h,j))}}}),(It&&i.defaultValue!==i.value||Et(T)==null&&i.value)&&(w(L(i)?Q(i.value):i.value),C!==null&&u.add(C)),qt(()=>{var l=T();if(i===document.activeElement){var t=Bt??C;if(u.has(t))return}L(i)&&l===Q(i.value)||i.type==="date"&&!l&&!i.value||l!==i.value&&(i.value=l??"")})}function L(i){var T=i.type;return T==="number"||T==="range"}function Q(i){return i===""?null:+i}var ee=M('<div class="path-item svelte-1gfnj2m"> </div>'),ae=M('<div class="paths-list svelte-1gfnj2m"><h3 class="svelte-1gfnj2m"> </h3> <div class="paths-container svelte-1gfnj2m"></div></div>'),se=M('<div class="paths-list svelte-1gfnj2m"><h3 class="svelte-1gfnj2m"> </h3> <p class="too-many-paths svelte-1gfnj2m">Too many paths to display (>20). Use the animation or step-through to view them.</p></div>'),le=M(`<section class="game-section svelte-1gfnj2m"><h1>Staircase Paths</h1> <p class="description svelte-1gfnj2m">How many different ways can you climb a staircase with N steps if you can take 1 or 2 steps at
		a time? Explore the Fibonacci sequence through interactive visualization.</p> <div class="controls-panel svelte-1gfnj2m"><div class="slider-control svelte-1gfnj2m"><label for="steps-slider" class="svelte-1gfnj2m">Number of Steps: <strong> </strong></label> <input type="range" id="steps-slider" min="1" max="10" class="svelte-1gfnj2m"/></div> <div class="button-controls svelte-1gfnj2m"><button class="btn svelte-1gfnj2m">Show Next Path</button> <button class="btn svelte-1gfnj2m"> </button> <button class="btn btn-secondary svelte-1gfnj2m">Reset</button></div></div> <div class="visualization-container svelte-1gfnj2m"><div class="canvas-wrapper svelte-1gfnj2m"><h3 class="svelte-1gfnj2m">Current Path Visualization</h3> <canvas width="700" height="450" class="visualization-canvas svelte-1gfnj2m"></canvas></div></div> <div class="stats svelte-1gfnj2m"><div class="stat-box svelte-1gfnj2m"><h4 class="svelte-1gfnj2m">Total Ways</h4> <p class="stat-value svelte-1gfnj2m"> </p></div> <div class="stat-box svelte-1gfnj2m"><h4 class="svelte-1gfnj2m">Fibonacci Number</h4> <p class="stat-value svelte-1gfnj2m"> </p></div> <div class="stat-box wide svelte-1gfnj2m"><h4 class="svelte-1gfnj2m">Current Path</h4> <p class="stat-value svelte-1gfnj2m"> </p></div></div> <div class="comparison-section svelte-1gfnj2m"><h3 class="svelte-1gfnj2m">How Paths Combine (Fibonacci Pattern)</h3> <canvas width="900" height="400" class="comparison-canvas svelte-1gfnj2m"></canvas></div> <!> <div class="explanation svelte-1gfnj2m"><h3 class="svelte-1gfnj2m">The Fibonacci Connection</h3> <p class="svelte-1gfnj2m">This problem demonstrates a fascinating connection to the Fibonacci sequence! The number of
			ways to climb a staircase with N steps follows the Fibonacci pattern because at each step,
			you can either take a 1-step or 2-step move. This means:</p> <ul class="svelte-1gfnj2m"><li>To reach step N, you could have come from step N-1 (taking a 1-step)</li> <li>Or you could have come from step N-2 (taking a 2-step)</li></ul> <p class="svelte-1gfnj2m">Therefore: <strong>ways(N) = ways(N-1) + ways(N-2)</strong> — exactly the Fibonacci
			formula!</p> <p style="margin-top: 1rem;" class="svelte-1gfnj2m">The sequence goes: 1, 2, 3, 5, 8, 13, 21, 34, 55, 89... where each number is the sum of the
			two preceding ones.</p></div></section>`);function he(i,T){Ot(T,!0);let w,u,l,t,m=K(5),h=Ut(()=>vt(s(m))),b=K(0),j=K(!1);function ft(){return s(b)>0&&s(b)<=s(h).length?`${s(b)}/${s(h).length}: ${s(h)[s(b)-1].map(e=>`+${e}`).join(" ")}`:"-"}Mt(()=>{!w||!u||(l=w.getContext("2d"),t=u.getContext("2d"),S(b,0),P())}),ot(()=>{s(m),S(b,0)}),ot(()=>{s(h),s(b),P()});function vt(e){const n=[],o=(r,a)=>{if(r===e){n.push([...a]);return}r>e||(a.push(1),o(r+1,a),a.pop(),a.push(2),o(r+2,a),a.pop())};return o(0,[]),n}function P(){!w||!u||!l||!t||(l.clearRect(0,0,w.width,w.height),t.clearRect(0,0,u.width,u.height),ht(),s(b)>0&&s(b)<=s(h).length&&dt(s(h)[s(b)-1]),mt())}function ht(){if(!w)return;const e=60,n=40,o=50,r=w.height-50;l.fillStyle="#e5e7eb",l.fillRect(0,r,w.width,50);for(let a=0;a<=s(m);a++){const y=o+a*e,d=r-a*n;l.fillStyle="#8b5cf6",l.strokeStyle="#5b21b6",l.lineWidth=3,l.fillRect(y,d,e,n),l.strokeRect(y,d,e,n),l.fillStyle="white",l.font="bold 20px Arial",l.textAlign="center",l.textBaseline="middle",l.fillText(a,y+e/2,d+n/2)}}function dt(e){const a=w.height-50;let y=0,d=50+60/2,p=a+40/2;l.fillStyle="#10b981",l.beginPath(),l.arc(d,p,12,0,Math.PI*2),l.fill();for(let c of e){y+=c,d=50+y*60+60/2,p=a-y*40+40/2,l.strokeStyle=c===1?"#3b82f6":"#ef4444",l.lineWidth=4,l.lineCap="round",l.beginPath();const x=50+(y-c)*60+60/2,_=a-(y-c)*40+40/2;l.moveTo(x,_),l.lineTo(d,p),l.stroke();const Y=(x+d)/2,A=(_+p)/2;l.fillStyle=c===1?"#3b82f6":"#ef4444",l.font="bold 16px Arial",l.textAlign="center",l.fillText(`+${c}`,Y,A-15)}l.fillStyle="#ef4444",l.beginPath(),l.arc(d,p,12,0,Math.PI*2),l.fill()}function mt(){!u||!t||(s(m)===1?yt():s(m)===2?gt():bt())}function pt(e){const n=[],o=(r,a)=>{if(r===e){n.push([...a]);return}r>e||(a.push(1),o(r+1,a),a.pop(),a.push(2),o(r+2,a),a.pop())};return o(0,[]),n}function X(e,n,o,r,a,y,d=!1){const p=50*a,c=35*a,x=o,_=r,Y=pt(n);for(let A=0;A<=n;A++){const N=x+A*p,k=_-A*c;e.fillStyle=y,e.strokeStyle=ut(y),e.lineWidth=2,e.fillRect(N,k,p,c),e.strokeRect(N,k,p,c),e.fillStyle="white",e.font=`bold ${14*a}px Arial`,e.textAlign="center",e.textBaseline="middle",e.fillText(A,N+p/2,k+c/2)}return d&&Y.forEach(A=>{e.strokeStyle="rgba(59, 130, 246, 0.3)",e.lineWidth=2,e.lineCap="round";let N=0,k=x+p/2,J=_+c/2;e.beginPath(),e.moveTo(k,J);for(let Ht of A)N+=Ht,k=x+N*p+p/2,J=_-N*c+c/2,e.lineTo(k,J);e.stroke()}),{count:Y.length,centerX:x+n*p/2,topY:_-n*c-20,bottomY:_+c+10}}function ut(e){return{"#ef4444":"#dc2626","#f59e0b":"#d97706","#10b981":"#059669","#8b5cf6":"#5b21b6"}[e]||"#000000"}function bt(){const e=u.width,n=u.height,o=Math.min(1,8/s(m)),r=e/4,a=n-80,y=s(m)-2,d=X(t,y,r*.5,a,o,"#ef4444",!0),p=s(m)-1,c=X(t,p,r*1.5,a,o,"#f59e0b",!0),x=X(t,s(m),r*2.5,a,o,"#10b981",!0);t.fillStyle="#1f2937",t.font="bold 16px Arial",t.textAlign="center",t.fillText(`N-2 = ${y}`,d.centerX,d.bottomY),t.fillStyle="#667eea",t.font="bold 20px Arial",t.fillText(`${d.count} ways`,d.centerX,d.bottomY+25),t.fillStyle="#1f2937",t.font="bold 16px Arial",t.fillText(`N-1 = ${p}`,c.centerX,c.bottomY),t.fillStyle="#667eea",t.font="bold 20px Arial",t.fillText(`${c.count} ways`,c.centerX,c.bottomY+25),t.fillStyle="#1f2937",t.font="bold 16px Arial",t.fillText(`N = ${s(m)}`,x.centerX,x.bottomY),t.fillStyle="#667eea",t.font="bold 20px Arial",t.fillText(`${x.count} ways`,x.centerX,x.bottomY+25);const _=e/2;t.fillStyle="#1f2937",t.font="bold 24px Arial",t.textAlign="center";const Y=`${d.count} + ${c.count} = ${x.count}`;t.fillText(Y,_,30),t.font="16px Arial",t.fillStyle="#6b7280",t.fillText("ways(N-2) + ways(N-1) = ways(N)",_,55)}function gt(){const e=u.width,n=u.height-100,o=e/3,r=X(t,1,o*.5,n,1,"#f59e0b",!0),a=X(t,2,o*1.5,n,1,"#10b981",!0);t.fillStyle="#1f2937",t.font="bold 16px Arial",t.textAlign="center",t.fillText("N-1 = 1",r.centerX,r.bottomY),t.fillStyle="#667eea",t.font="bold 20px Arial",t.fillText(`${r.count} ways`,r.centerX,r.bottomY+25),t.fillStyle="#1f2937",t.font="bold 16px Arial",t.fillText("N = 2",a.centerX,a.bottomY),t.fillStyle="#667eea",t.font="bold 20px Arial",t.fillText(`${a.count} ways`,a.centerX,a.bottomY+25),t.fillStyle="#1f2937",t.font="bold 20px Arial",t.textAlign="center",t.fillText(`${r.count} + 1 = ${a.count}`,e/2,40),t.font="16px Arial",t.fillStyle="#6b7280",t.fillText("(N-2 = 0, so we use 1 as the base)",e/2,65)}function yt(){const e=u.width/2,n=u.height-100,o=X(t,1,e-40,n,1,"#10b981",!0);t.fillStyle="#1f2937",t.font="bold 16px Arial",t.textAlign="center",t.fillText("N = 1",o.centerX,o.bottomY),t.fillStyle="#667eea",t.font="bold 20px Arial",t.fillText(`${o.count} ways`,o.centerX,o.bottomY+25),t.fillStyle="#6b7280",t.font="18px Arial",t.fillText("Base case: Only one way to climb 1 step",e,40)}function xt(e){S(m,parseInt(e.target.value),!0),S(b,0),R()}function _t(){s(h).length!==0&&(S(b,s(b)%s(h).length+1),P())}async function wt(){if(s(j)){R();return}S(j,!0);for(let e=1;e<=s(h).length&&s(j);e++)S(b,e,!0),P(),await new Promise(n=>setTimeout(n,1e3));S(j,!1)}function R(){S(j,!1)}function jt(){S(b,0),R(),P()}var z=le();Zt("1gfnj2m",e=>{Dt(()=>{Gt.title="Staircase Paths - MathFun"})});var E=g(v(z),4),q=v(E),I=v(q),Z=g(v(I)),St=v(Z,!0);f(Z),f(I);var B=g(I,2);Kt(B),B.__input=xt,f(q);var tt=g(q,2),et=v(tt);et.__click=_t;var W=g(et,2);W.__click=wt;var Tt=v(W,!0);f(W);var At=g(W,2);At.__click=jt,f(tt),f(E);var O=g(E,2),at=v(O),$t=g(v(at),2);ct($t,e=>w=e,()=>w),f(at),f(O);var V=g(O,2),U=v(V),st=g(v(U),2),Nt=v(st,!0);f(st),f(U);var D=g(U,2),lt=g(v(D),2),kt=v(lt);f(lt),f(D);var nt=g(D,2),it=g(v(nt),2),Xt=v(it,!0);f(it),f(nt),f(V);var G=g(V,2),Yt=g(v(G),2);ct(Yt,e=>u=e,()=>u),f(G);var Pt=g(G,2);{var Ct=e=>{var n=ae(),o=v(n),r=v(o);f(o);var a=g(o,2);Lt(a,21,()=>s(h),Qt,(y,d,p)=>{var c=ee(),x=v(c);f(c),F(_=>$(x,`${p+1}. ${_??""} = ${s(m)??""}`),[()=>s(d).map(_=>`+${_}`).join(" → ")]),H(y,c)}),f(a),f(n),F(()=>$(r,`All Possible Paths (${s(h).length??""})`)),H(e,n)},Wt=e=>{var n=se(),o=v(n),r=v(o);f(o),rt(2),f(n),F(()=>$(r,`All Possible Paths (${s(h).length??""})`)),H(e,n)};Jt(Pt,e=>{s(h).length<=20?e(Ct):e(Wt,!1)})}rt(2),f(z),F(e=>{$(St,s(m)),$(Tt,s(j)?"Stop Animation":"Animate All Paths"),$(Nt,s(h).length),$(kt,`F(${s(m)+1}) = ${s(h).length??""}`),$(Xt,e)},[ft]),te(B,()=>s(m),e=>S(m,e)),H(i,z),Vt()}Ft(["input","click"]);export{he as component};
