import{e as He,f as fe,a as ue,s as n}from"../chunks/C4Rmm3-g.js";import{a6 as Le,ae as p,o as Ue,a9 as s,aa as e,t as Ve,l as a,a7 as je,q as r,u as Je,N as Ke,a8 as Qe,ab as h,ac as t,af as Xe}from"../chunks/S0j79fAV.js";import{i as Ze}from"../chunks/BoZOt_zT.js";import{h as et}from"../chunks/DOZJe9QW.js";import{h as tt,b as at,a as st}from"../chunks/WcKA6lq0.js";var ot=fe('<div class="opponent-choice svelte-2mvl5a"><h3 class="svelte-2mvl5a">Round Result</h3> <div><!></div></div>'),lt=fe(`<section class="game-section svelte-2mvl5a"><h1>Prisoner's Dilemma</h1> <p class="description svelte-2mvl5a">Two prisoners are arrested and interrogated separately. Each has two choices: cooperate with
		the other (stay silent) or defect (betray the other). The outcome depends on what both choose.
		What's the optimal strategy?</p> <div class="strategy-selector svelte-2mvl5a"><label for="opponent-strategy" class="svelte-2mvl5a">Opponent Strategy:</label> <select id="opponent-strategy" class="svelte-2mvl5a"><option>Random</option><option>Always Cooperate</option><option>Always Defect</option><option>Tit-for-Tat (Copycat)</option><option>Grudger (One Strike)</option></select></div> <div id="game-container" class="svelte-2mvl5a"><div class="choice-buttons svelte-2mvl5a"><button class="choice-btn cooperate svelte-2mvl5a"><span class="icon svelte-2mvl5a">ü§ù</span> <span class="label svelte-2mvl5a">Cooperate</span></button> <button class="choice-btn defect svelte-2mvl5a"><span class="icon svelte-2mvl5a">‚öîÔ∏è</span> <span class="label svelte-2mvl5a">Defect</span></button></div> <!> <div class="message svelte-2mvl5a"> </div> <div class="controls svelte-2mvl5a"><button class="btn">Reset Game</button></div></div> <div class="stats svelte-2mvl5a"><h3 class="svelte-2mvl5a">Game Statistics</h3> <div class="stats-grid svelte-2mvl5a"><div class="stat-box svelte-2mvl5a"><h4 class="svelte-2mvl5a">Your Score</h4> <p class="stat-percent svelte-2mvl5a"> </p></div> <div class="stat-box svelte-2mvl5a"><h4 class="svelte-2mvl5a">Opponent Score</h4> <p class="stat-percent svelte-2mvl5a"> </p></div> <div class="stat-box svelte-2mvl5a"><h4 class="svelte-2mvl5a">Rounds Played</h4> <p class="stat-percent svelte-2mvl5a"> </p></div> <div class="stat-box svelte-2mvl5a"><h4 class="svelte-2mvl5a">Current Strategy</h4> <p class="stat-value svelte-2mvl5a"> </p></div></div></div> <div class="payoff-matrix svelte-2mvl5a"><h3 class="svelte-2mvl5a">Payoff Matrix</h3> <table class="svelte-2mvl5a"><thead><tr><th class="svelte-2mvl5a"></th><th class="svelte-2mvl5a">Opponent Cooperates</th><th class="svelte-2mvl5a">Opponent Defects</th></tr></thead><tbody><tr><th class="svelte-2mvl5a">You Cooperate</th><td class="svelte-2mvl5a"><span class="you svelte-2mvl5a">+3</span> / <span class="opponent svelte-2mvl5a">+3</span></td><td class="svelte-2mvl5a"><span class="you svelte-2mvl5a">0</span> / <span class="opponent svelte-2mvl5a">+5</span></td></tr><tr><th class="svelte-2mvl5a">You Defect</th><td class="svelte-2mvl5a"><span class="you svelte-2mvl5a">+5</span> / <span class="opponent svelte-2mvl5a">0</span></td><td class="svelte-2mvl5a"><span class="you svelte-2mvl5a">+1</span> / <span class="opponent svelte-2mvl5a">+1</span></td></tr></tbody></table></div> <div class="performance-analysis svelte-2mvl5a"><h3 class="svelte-2mvl5a">Performance Analysis</h3> <div class="optimal-strategy-card svelte-2mvl5a"><h4 class="svelte-2mvl5a"> </h4> <p class="strategy-advice svelte-2mvl5a"> </p></div> <div class="performance-metrics svelte-2mvl5a"><div class="metric-box svelte-2mvl5a"><span class="metric-label svelte-2mvl5a">Avg Points/Round</span> <div class="metric-comparison svelte-2mvl5a"><span class="actual svelte-2mvl5a">You: <strong class="svelte-2mvl5a"> </strong></span> <span class="optimal svelte-2mvl5a">Optimal: <strong class="svelte-2mvl5a"> </strong></span></div> <div class="efficiency-bar svelte-2mvl5a"><div class="efficiency-fill svelte-2mvl5a"></div></div> <span class="efficiency-text svelte-2mvl5a"> </span></div> <div class="metric-box svelte-2mvl5a"><span class="metric-label svelte-2mvl5a">Perfect Play Score</span> <p class="perfect-play-description svelte-2mvl5a">With perfect knowledge of opponent's moves:</p> <div class="metric-comparison svelte-2mvl5a"><span class="actual svelte-2mvl5a">Actual: <strong class="svelte-2mvl5a"> </strong></span> <span class="optimal svelte-2mvl5a">Perfect: <strong class="svelte-2mvl5a"> </strong></span></div></div></div></div> <div class="explanation svelte-2mvl5a"><h3 class="svelte-2mvl5a">Understanding the Dilemma</h3> <p class="svelte-2mvl5a">The Prisoner's Dilemma demonstrates why two rational individuals might not cooperate, even
			when it's in their best interest. In a single round, defecting is always better regardless of
			what the opponent does. However, in repeated games, strategies like "Tit-for-Tat" (cooperate
			first, then copy opponent's last move) often perform best because they encourage mutual
			cooperation while punishing defection.</p> <p style="margin-top: 15px;" class="svelte-2mvl5a"><strong>Try different strategies:</strong> Random plays unpredictably, Always Cooperate is nice
			but exploitable, Always Defect is selfish, Tit-for-Tat is forgiving but firm, and Grudger cooperates
			until betrayed once, then defects forever.</p></div></section>`);function mt(he,ge){Le(ge,!0);let d=p(0),g=p(0),i=p(0),m=p(Ue([])),v=p("tit-for-tat"),W=p(""),f=p("Make your choice: Cooperate or Defect?"),b=p(!1);const q={random:"Random","always-cooperate":"Always-Cooperate","always-defect":"Always-Defect","tit-for-tat":"Tit-for-Tat",grudger:"Grudger"},z={random:3,"always-cooperate":5,"always-defect":1,"tit-for-tat":3,grudger:3},ye={random:"Against Random, cooperate for mutual benefit when possible, but be prepared to defect.","always-cooperate":"Against Always-Cooperate, defecting every round maximizes your score (5 pts/round), but cooperation is kinder (3 pts/round).","always-defect":"Against Always-Defect, you must defect to avoid exploitation (1 pt/round each).","tit-for-tat":"Against Tit-for-Tat, always cooperate to achieve mutual benefit (3 pts/round).",grudger:"Against Grudger, never defect! One betrayal means permanent defection. Cooperate for 3 pts/round."};let _e=h(()=>a(i)>0?(a(d)/a(i)).toFixed(2):"0"),be=h(()=>z[a(v)].toFixed(2)),y=h(()=>a(i)>0?a(d)/a(i)/z[a(v)]*100:0),xe=h(De),we=h(()=>a(y)>=80?"linear-gradient(90deg, #10b981, #34d399)":a(y)>=60?"linear-gradient(90deg, #f59e0b, #fbbf24)":"linear-gradient(90deg, #ef4444, #f87171)");function Te(){switch(a(v)){case"random":return Math.random()<.5?"cooperate":"defect";case"always-cooperate":return"cooperate";case"always-defect":return"defect";case"tit-for-tat":return a(m).length===0?"cooperate":a(m)[a(m).length-1].yourChoice;case"grudger":return a(m).some(l=>l.yourChoice==="defect")?"defect":"cooperate";default:return"cooperate"}}function Pe(o,l){return o==="cooperate"&&l==="cooperate"?{yourPoints:3,opponentPoints:3}:o==="cooperate"&&l==="defect"?{yourPoints:0,opponentPoints:5}:o==="defect"&&l==="cooperate"?{yourPoints:5,opponentPoints:0}:{yourPoints:1,opponentPoints:1}}function H(o){const l=Te(),{yourPoints:c,opponentPoints:u}=Pe(o,l);r(d,a(d)+c),r(g,a(g)+u),Je(i),a(m).push({yourChoice:o,opponentChoice:l,yourPoints:c,opponentPoints:u}),Ae(o,l,c,u)}function Ae(o,l,c,u){r(W,`
			<p><strong>You:</strong> ${o==="cooperate"?"ü§ù Cooperated":"‚öîÔ∏è Defected"} ‚Üí <strong>+${c} points</strong></p>
			<p><strong>Opponent:</strong> ${l==="cooperate"?"ü§ù Cooperated":"‚öîÔ∏è Defected"} ‚Üí <strong>+${u} points</strong></p>
		`),r(b,!0),o==="cooperate"&&l==="cooperate"?r(f,"Mutual cooperation! Both benefit."):o==="defect"&&l==="defect"?r(f,"Mutual defection! Both lose out."):o==="cooperate"&&l==="defect"?r(f,"You were betrayed! The sucker's payoff."):r(f,"You exploited their cooperation!")}function L(){r(d,0),r(g,0),r(i,0),r(m,[],!0),r(b,!1),r(f,"Make your choice: Cooperate or Defect?")}function Se(o){r(v,o.target.value,!0),L()}function De(){let o=0;return a(m).forEach(l=>{l.opponentChoice==="cooperate"?o+=5:o+=1}),o}var x=lt();tt("2mvl5a",o=>{Ke(()=>{Qe.title="Prisoner's Dilemma - MathFun"})});var w=s(e(x),4),_=s(e(w),2);_.__change=Se;var T=e(_);T.value=T.__value="random";var P=s(T);P.value=P.__value="always-cooperate";var A=s(P);A.value=A.__value="always-defect";var S=s(A);S.value=S.__value="tit-for-tat";var U=s(S);U.value=U.__value="grudger",t(_),t(w);var D=s(w,2),R=e(D),V=e(R);V.__click=()=>H("cooperate");var Re=s(V,2);Re.__click=()=>H("defect"),t(R);var j=s(R,2);{var Ce=o=>{var l=ot(),c=s(e(l),2),u=e(c);et(u,()=>a(W)),t(c),t(l),ue(o,l)};Ze(j,o=>{a(b)&&o(Ce)})}var C=s(j,2),Oe=e(C,!0);t(C);var J=s(C,2),ke=e(J);ke.__click=L,t(J),t(D);var O=s(D,2),K=s(e(O),2),k=e(K),Q=s(e(k),2),Me=e(Q,!0);t(Q),t(k);var M=s(k,2),X=s(e(M),2),$e=e(X,!0);t(X),t(M);var $=s(M,2),Z=s(e($),2),Ge=e(Z,!0);t(Z),t($);var ee=s($,2),te=s(e(ee),2),Ye=e(te,!0);t(te),t(ee),t(K),t(O);var ae=s(O,4),G=s(e(ae),2),Y=e(G),Ee=e(Y);t(Y);var se=s(Y,2),Be=e(se,!0);t(se),t(G);var oe=s(G,2),E=e(oe),B=s(e(E),2),N=e(B),le=s(e(N)),Ne=e(le,!0);t(le),t(N);var re=s(N,2),ne=s(e(re)),Fe=e(ne,!0);t(ne),t(re),t(B);var F=s(B,2),Ie=e(F);t(F);var ve=s(F,2),We=e(ve,!0);t(ve),t(E);var ie=s(E,2),ce=s(e(ie),4),I=e(ce),pe=s(e(I)),qe=e(pe,!0);t(pe),t(I);var de=s(I,2),me=s(e(de)),ze=e(me,!0);t(me),t(de),t(ce),t(ie),t(oe),t(ae),Xe(2),t(x),Ve((o,l)=>{n(Oe,a(f)),n(Me,a(d)),n($e,a(g)),n(Ge,a(i)),n(Ye,q[a(v)]),n(Ee,`Optimal Strategy vs ${q[a(v)]??""}`),n(Be,ye[a(v)]),n(Ne,a(_e)),n(Fe,a(be)),st(Ie,`width: ${o??""}%; background: ${a(we)??""}`),n(We,l),n(qe,a(d)),n(ze,a(xe))},[()=>Math.min(a(y),100),()=>a(i)>0?`${a(y).toFixed(1)}% efficiency`:"‚Äî"]),at(_,()=>a(v),o=>r(v,o)),ue(he,x),je()}He(["change","click"]);export{mt as component};
