import{m as p,_ as i}from"./index-BJmpHkU4.js";/* empty css              *//* empty css                      */class l{constructor(){this.yourScore=0,this.opponentScore=0,this.rounds=0,this.history=[],this.opponentStrategy="tit-for-tat",this.setupEventListeners(),this.updateDisplay(),this.loadRelatedPosts()}setupEventListeners(){document.getElementById("cooperate-btn").addEventListener("click",()=>{this.playRound("cooperate")}),document.getElementById("defect-btn").addEventListener("click",()=>{this.playRound("defect")}),document.getElementById("reset-btn").addEventListener("click",()=>{this.resetGame()}),document.getElementById("opponent-strategy").addEventListener("change",e=>{this.opponentStrategy=e.target.value,this.resetGame()})}getOpponentChoice(){switch(this.opponentStrategy){case"random":return Math.random()<.5?"cooperate":"defect";case"always-cooperate":return"cooperate";case"always-defect":return"defect";case"tit-for-tat":return this.history.length===0?"cooperate":this.history[this.history.length-1].yourChoice;case"grudger":return this.history.some(t=>t.yourChoice==="defect")?"defect":"cooperate";default:return"cooperate"}}calculatePayoff(e,t){return e==="cooperate"&&t==="cooperate"?{yourPoints:3,opponentPoints:3}:e==="cooperate"&&t==="defect"?{yourPoints:0,opponentPoints:5}:e==="defect"&&t==="cooperate"?{yourPoints:5,opponentPoints:0}:{yourPoints:1,opponentPoints:1}}playRound(e){const t=this.getOpponentChoice(),{yourPoints:n,opponentPoints:o}=this.calculatePayoff(e,t);this.yourScore+=n,this.opponentScore+=o,this.rounds++,this.history.push({yourChoice:e,opponentChoice:t,yourPoints:n,opponentPoints:o}),this.showRoundResult(e,t,n,o),this.updateDisplay()}showRoundResult(e,t,n,o){const r=document.getElementById("result-area"),s=document.getElementById("round-result"),c=e==="cooperate"?"ü§ù Cooperated":"‚öîÔ∏è Defected",d=t==="cooperate"?"ü§ù Cooperated":"‚öîÔ∏è Defected";s.innerHTML=`
            <p><strong>You:</strong> ${c} ‚Üí <strong>+${n} points</strong></p>
            <p><strong>Opponent:</strong> ${d} ‚Üí <strong>+${o} points</strong></p>
        `,r.style.display="block";let a="";e==="cooperate"&&t==="cooperate"?a="Mutual cooperation! Both benefit.":e==="defect"&&t==="defect"?a="Mutual defection! Both lose out.":e==="cooperate"&&t==="defect"?a="You were betrayed! The sucker's payoff.":a="You exploited their cooperation!",document.getElementById("message").textContent=a}updateDisplay(){document.getElementById("your-score").textContent=this.yourScore,document.getElementById("opponent-score").textContent=this.opponentScore,document.getElementById("rounds-played").textContent=this.rounds;const e={random:"Random","always-cooperate":"Always Cooperate","always-defect":"Always Defect","tit-for-tat":"Tit-for-Tat",grudger:"Grudger"};document.getElementById("current-strategy").textContent=e[this.opponentStrategy]}resetGame(){this.yourScore=0,this.opponentScore=0,this.rounds=0,this.history=[],document.getElementById("result-area").style.display="none",document.getElementById("message").textContent="Make your choice: Cooperate or Defect?",this.updateDisplay()}async loadRelatedPosts(){const e=Object.assign({"./posts/01-intro-to-monty-hall.md":()=>i(()=>import("./01-intro-to-monty-hall-D3KeI0wJ.js"),[]).then(o=>o.default),"./posts/02-prisoners-dilemma-strategies.md":()=>i(()=>import("./02-prisoners-dilemma-strategies-Dz3hZ4T1.js"),[]).then(o=>o.default),"./posts/03-staircase-fibonacci.md":()=>i(()=>import("./03-staircase-fibonacci-BvkO1jfw.js"),[]).then(o=>o.default)}),t=document.getElementById("related-posts-container"),n=[];for(const o in e){const r=await e[o](),{data:s}=p(r);s.game==="prisoners-dilemma"&&n.push({slug:s.slug,title:s.title,excerpt:s.excerpt})}if(n.length>0){t.innerHTML="<h3>Related Articles</h3>";const o=document.createElement("div");o.className="related-posts-list",n.forEach(r=>{const s=document.createElement("a");s.href=`./post.html?slug=${r.slug}`,s.className="related-post-card",s.innerHTML=`
                    <h4>${r.title}</h4>
                    <p>${r.excerpt}</p>
                `,o.appendChild(s)}),t.appendChild(o)}}}new l;
