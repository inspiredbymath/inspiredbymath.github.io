import{m as c,_ as n}from"./index-pHnGcn-R.js";/* empty css              *//* empty css                      */class d{constructor(){this.carDoor=null,this.selectedDoor=null,this.revealedDoor=null,this.gamePhase="initial",this.stats=this.loadStats(),this.initializeGame(),this.setupEventListeners(),this.updateStatsDisplay(),this.loadRelatedPosts()}loadStats(){const t=localStorage.getItem("montyHallStats");return t?JSON.parse(t):{stayWins:0,stayTotal:0,switchWins:0,switchTotal:0}}saveStats(){localStorage.setItem("montyHallStats",JSON.stringify(this.stats))}initializeGame(){this.carDoor=Math.floor(Math.random()*3),this.selectedDoor=null,this.revealedDoor=null,this.gamePhase="initial",document.querySelectorAll(".door").forEach(e=>{e.className="door",e.querySelector(".door-face").textContent=`Door ${parseInt(e.dataset.door)+1}`}),this.updateMessage("Pick a door!")}setupEventListeners(){document.querySelectorAll(".door").forEach(e=>{e.addEventListener("click",()=>this.handleDoorClick(parseInt(e.dataset.door)))}),document.getElementById("reset-btn").addEventListener("click",()=>{this.initializeGame()}),document.getElementById("reset-stats").addEventListener("click",()=>{confirm("Are you sure you want to reset all statistics?")&&this.resetStats()})}handleDoorClick(t){this.gamePhase==="initial"?this.selectDoor(t):this.gamePhase==="revealed"&&this.makeFinalChoice(t)}selectDoor(t){this.selectedDoor=t,document.querySelectorAll(".door")[t].classList.add("selected"),this.revealGoatDoor(),this.gamePhase="revealed",this.updateMessage("A goat is revealed! Do you want to switch or stay with your choice?")}revealGoatDoor(){const t=[0,1,2].filter(a=>a!==this.selectedDoor&&a!==this.carDoor);this.revealedDoor=t[Math.floor(Math.random()*t.length)];const e=document.querySelectorAll(".door");e[this.revealedDoor].classList.add("opened"),e[this.revealedDoor].classList.add("disabled")}makeFinalChoice(t){if(t===this.revealedDoor)return;const e=t!==this.selectedDoor,a=t===this.carDoor;e?(this.stats.switchTotal++,a&&this.stats.switchWins++):(this.stats.stayTotal++,a&&this.stats.stayWins++),this.saveStats(),this.updateStatsDisplay(),this.revealAllDoors(a,e),this.gamePhase="finished"}revealAllDoors(t,e){document.querySelectorAll(".door").forEach(l=>{const r=parseInt(l.dataset.door);l.classList.remove("selected","disabled"),r===this.carDoor?l.classList.add("winner"):l.classList.add("loser")});const s=e?"switched":"stayed",i=t?"won":"lost",o=t?"ðŸŽ‰":"ðŸ˜ž";this.updateMessage(`You ${s} and ${i}! ${o}`)}updateMessage(t){document.getElementById("message").textContent=t}updateStatsDisplay(){document.getElementById("stay-wins").textContent=this.stats.stayWins,document.getElementById("stay-total").textContent=this.stats.stayTotal,document.getElementById("switch-wins").textContent=this.stats.switchWins,document.getElementById("switch-total").textContent=this.stats.switchTotal;const t=this.stats.stayTotal>0?Math.round(this.stats.stayWins/this.stats.stayTotal*100):0,e=this.stats.switchTotal>0?Math.round(this.stats.switchWins/this.stats.switchTotal*100):0;document.getElementById("stay-percent").textContent=`${t}%`,document.getElementById("switch-percent").textContent=`${e}%`}resetStats(){this.stats={stayWins:0,stayTotal:0,switchWins:0,switchTotal:0},this.saveStats(),this.updateStatsDisplay()}async loadRelatedPosts(){const t=Object.assign({"./posts/01-intro-to-monty-hall.md":()=>n(()=>import("./01-intro-to-monty-hall-D3KeI0wJ.js"),[]).then(s=>s.default),"./posts/02-prisoners-dilemma-strategies.md":()=>n(()=>import("./02-prisoners-dilemma-strategies-Dz3hZ4T1.js"),[]).then(s=>s.default),"./posts/03-staircase-fibonacci.md":()=>n(()=>import("./03-staircase-fibonacci-BvkO1jfw.js"),[]).then(s=>s.default)}),e=document.getElementById("related-posts-container"),a=[];for(const s in t){const i=await t[s](),{data:o}=c(i);o.game==="monty-hall"&&a.push({slug:o.slug,title:o.title,excerpt:o.excerpt})}if(a.length>0){e.innerHTML="<h3>Related Articles</h3>";const s=document.createElement("div");s.className="related-posts-list",a.forEach(i=>{const o=document.createElement("a");o.href=`./post.html?slug=${i.slug}`,o.className="related-post-card",o.innerHTML=`
                    <h4>${i.title}</h4>
                    <p>${i.excerpt}</p>
                `,s.appendChild(o)}),e.appendChild(s)}}}new d;
