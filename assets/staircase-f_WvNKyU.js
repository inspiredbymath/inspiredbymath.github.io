import{m as g,_ as u}from"./index-pHnGcn-R.js";/* empty css              *//* empty css                      */class w{constructor(){this.canvas=document.getElementById("staircase-canvas"),this.ctx=this.canvas.getContext("2d"),this.comparisonCanvas=document.getElementById("comparison-canvas"),this.comparisonCtx=this.comparisonCanvas.getContext("2d"),this.steps=5,this.paths=[],this.currentPathIndex=0,this.isAnimating=!1,this.animationFrame=null,this.setupEventListeners(),this.calculatePaths(),this.draw(),this.loadRelatedPosts()}setupEventListeners(){document.getElementById("steps-slider").addEventListener("input",t=>{this.steps=parseInt(t.target.value),document.getElementById("steps-value").textContent=this.steps,this.currentPathIndex=0,this.stopAnimation(),this.calculatePaths(),this.draw()}),document.getElementById("animate-btn").addEventListener("click",()=>{this.animateAllPaths()}),document.getElementById("step-btn").addEventListener("click",()=>{this.showNextPath()}),document.getElementById("reset-btn").addEventListener("click",()=>{this.reset()})}calculatePaths(){this.paths=[],this.findPaths(0,[]),this.updateStats(),this.displayPathsList()}findPaths(t,i){if(t===this.steps){this.paths.push([...i]);return}t>this.steps||(i.push(1),this.findPaths(t+1,i),i.pop(),i.push(2),this.findPaths(t+2,i),i.pop())}draw(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.drawStaircase(),this.currentPathIndex>0&&this.currentPathIndex<=this.paths.length&&this.drawPath(this.paths[this.currentPathIndex-1]),this.drawComparison()}drawStaircase(){const e=this.canvas.height-50;this.ctx.fillStyle="#e5e7eb",this.ctx.fillRect(0,e,this.canvas.width,50);for(let s=0;s<=this.steps;s++){const a=50+s*60,r=e-s*40;this.ctx.fillStyle="#8b5cf6",this.ctx.strokeStyle="#5b21b6",this.ctx.lineWidth=3,this.ctx.fillRect(a,r,60,40),this.ctx.strokeRect(a,r,60,40),this.ctx.fillStyle="white",this.ctx.font="bold 20px Arial",this.ctx.textAlign="center",this.ctx.textBaseline="middle",this.ctx.fillText(s,a+60/2,r+40/2)}}drawPath(t){const s=this.canvas.height-50;this.ctx.strokeStyle="#f59e0b",this.ctx.lineWidth=4,this.ctx.lineCap="round",this.ctx.lineJoin="round";let a=0,r=50+60/2,o=s+40/2;this.ctx.beginPath(),this.ctx.moveTo(r,o),this.ctx.fillStyle="#10b981",this.ctx.beginPath(),this.ctx.arc(r,o,12,0,Math.PI*2),this.ctx.fill();for(let h of t){a+=h,r=50+a*60+60/2,o=s-a*40+40/2,this.ctx.strokeStyle=h===1?"#3b82f6":"#ef4444",this.ctx.beginPath();const l=50+(a-h)*60+60/2,c=s-(a-h)*40+40/2;this.ctx.moveTo(l,c),this.ctx.lineTo(r,o),this.ctx.stroke();const p=(l+r)/2,d=(c+o)/2;this.ctx.fillStyle=h===1?"#3b82f6":"#ef4444",this.ctx.font="bold 16px Arial",this.ctx.textAlign="center",this.ctx.fillText(`+${h}`,p,d-15)}this.ctx.fillStyle="#ef4444",this.ctx.beginPath(),this.ctx.arc(r,o,12,0,Math.PI*2),this.ctx.fill()}updateStats(){const t=this.paths.length,i=this.steps+1;if(document.getElementById("total-ways").textContent=t,document.getElementById("fibonacci-info").textContent=`F(${i}) = ${t}`,this.currentPathIndex>0){const e=this.paths[this.currentPathIndex-1].map(s=>`+${s}`).join(" ");document.getElementById("current-path").textContent=`${this.currentPathIndex}/${t}: ${e}`}else document.getElementById("current-path").textContent="-"}displayPathsList(){const t=document.getElementById("paths-container");if(t.innerHTML="",this.paths.length>20){t.innerHTML='<p style="color: #666;">Too many paths to display (>20). Use the animation or step-through to view them.</p>';return}this.paths.forEach((i,n)=>{const e=document.createElement("div");e.className="path-item",e.textContent=`${n+1}. ${i.map(s=>`+${s}`).join(" â†’ ")} = ${this.steps}`,t.appendChild(e)})}showNextPath(){this.paths.length!==0&&(this.currentPathIndex=this.currentPathIndex%this.paths.length+1,this.updateStats(),this.draw())}async animateAllPaths(){if(this.isAnimating){this.stopAnimation();return}this.isAnimating=!0,document.getElementById("animate-btn").textContent="Stop Animation";for(let t=1;t<=this.paths.length&&this.isAnimating;t++)this.currentPathIndex=t,this.updateStats(),this.draw(),await this.sleep(1e3);this.isAnimating=!1,document.getElementById("animate-btn").textContent="Animate All Paths"}stopAnimation(){this.isAnimating=!1,document.getElementById("animate-btn").textContent="Animate All Paths"}sleep(t){return new Promise(i=>setTimeout(i,t))}reset(){this.currentPathIndex=0,this.stopAnimation(),this.updateStats(),this.draw()}calculatePathsForN(t){const i=[],n=(e,s)=>{if(e===t){i.push([...s]);return}e>t||(s.push(1),n(e+1,s),s.pop(),s.push(2),n(e+2,s),s.pop())};return n(0,[]),i}darkenColor(t){return{"#ef4444":"#dc2626","#f59e0b":"#d97706","#10b981":"#059669","#8b5cf6":"#5b21b6"}[t]||"#000000"}drawMiniPath(t,i,n,e,s,a){t.strokeStyle="rgba(59, 130, 246, 0.3)",t.lineWidth=2,t.lineCap="round";let r=0,o=n+s/2,h=e+a/2;t.beginPath(),t.moveTo(o,h);for(let l of i)r+=l,o=n+r*s+s/2,h=e-r*a+a/2,t.lineTo(o,h);t.stroke()}drawMiniStaircase(t,i,n,e,s,a,r=!1){const o=50*s,h=35*s,l=n,c=e,p=this.calculatePathsForN(i);for(let d=0;d<=i;d++){const m=l+d*o,f=c-d*h;t.fillStyle=a,t.strokeStyle=this.darkenColor(a),t.lineWidth=2,t.fillRect(m,f,o,h),t.strokeRect(m,f,o,h),t.fillStyle="white",t.font=`bold ${14*s}px Arial`,t.textAlign="center",t.textBaseline="middle",t.fillText(d,m+o/2,f+h/2)}return r&&p.forEach(d=>{this.drawMiniPath(t,d,l,c,o,h)}),{count:p.length,centerX:l+i*o/2,topY:c-i*h-20,bottomY:c+h+10}}drawStaircaseLabel(t,i,n,e,s){t.fillStyle="#1f2937",t.font="bold 16px Arial",t.textAlign="center",t.fillText(i,n,e),t.fillStyle="#667eea",t.font="bold 20px Arial",t.fillText(`${s} ways`,n,e+25)}drawMathEquation(t,i,n,e){const a=this.comparisonCanvas.width/2;t.fillStyle="#1f2937",t.font="bold 24px Arial",t.textAlign="center";const r=`${i.count} + ${n.count} = ${e.count}`;t.fillText(r,a,30),t.font="16px Arial",t.fillStyle="#6b7280",t.fillText("ways(N-2) + ways(N-1) = ways(N)",a,55)}drawCurvedArrow(t,i,n,e,s,a){t.strokeStyle=a,t.fillStyle=a,t.lineWidth=2;const r=(i+e)/2,o=Math.min(n,s)-20;t.beginPath(),t.moveTo(i,n),t.quadraticCurveTo(r,o,e,s),t.stroke();const h=Math.atan2(s-o,e-r),l=10;t.beginPath(),t.moveTo(e,s),t.lineTo(e-l*Math.cos(h-Math.PI/6),s-l*Math.sin(h-Math.PI/6)),t.lineTo(e-l*Math.cos(h+Math.PI/6),s-l*Math.sin(h+Math.PI/6)),t.closePath(),t.fill()}drawCombinationArrows(t,i,n,e){this.drawCurvedArrow(t,i.centerX,70,e.centerX-40,90,"#ef4444"),this.drawCurvedArrow(t,n.centerX,70,e.centerX-20,80,"#f59e0b")}drawThreeStaircaseComparison(){const t=this.comparisonCtx,i=this.comparisonCanvas.width,n=this.comparisonCanvas.height,e=Math.min(1,8/this.steps),s=i/4,a=n-80,r=this.steps-2,o=this.drawMiniStaircase(t,r,s*.5,a,e,"#ef4444",!0),h=this.steps-1,l=this.drawMiniStaircase(t,h,s*1.5,a,e,"#f59e0b",!0),c=this.drawMiniStaircase(t,this.steps,s*2.5,a,e,"#10b981",!0);this.drawStaircaseLabel(t,`N-2 = ${r}`,o.centerX,o.bottomY,o.count),this.drawStaircaseLabel(t,`N-1 = ${h}`,l.centerX,l.bottomY,l.count),this.drawStaircaseLabel(t,`N = ${this.steps}`,c.centerX,c.bottomY,c.count),this.drawMathEquation(t,o,l,c),this.drawCombinationArrows(t,o,l,c)}drawTwoStaircaseComparison(){const t=this.comparisonCtx,i=this.comparisonCanvas.width,n=this.comparisonCanvas.height-100,e=i/3,s=this.drawMiniStaircase(t,1,e*.5,n,1,"#f59e0b",!0),a=this.drawMiniStaircase(t,2,e*1.5,n,1,"#10b981",!0);this.drawStaircaseLabel(t,"N-1 = 1",s.centerX,s.bottomY,s.count),this.drawStaircaseLabel(t,"N = 2",a.centerX,a.bottomY,a.count),t.fillStyle="#1f2937",t.font="bold 20px Arial",t.textAlign="center",t.fillText(`${s.count} + 1 = ${a.count}`,i/2,40),t.font="16px Arial",t.fillStyle="#6b7280",t.fillText("(N-2 = 0, so we use 1 as the base)",i/2,65)}drawSingleStaircaseComparison(){const t=this.comparisonCtx,i=this.comparisonCanvas.width/2,n=this.comparisonCanvas.height-100,e=this.drawMiniStaircase(t,1,i-40,n,1,"#10b981",!0);this.drawStaircaseLabel(t,"N = 1",e.centerX,e.bottomY,e.count),t.fillStyle="#6b7280",t.font="18px Arial",t.textAlign="center",t.fillText("Base case: Only one way to climb 1 step",i,40)}drawComparison(){if(this.comparisonCtx.clearRect(0,0,this.comparisonCanvas.width,this.comparisonCanvas.height),this.steps===1){this.drawSingleStaircaseComparison();return}if(this.steps===2){this.drawTwoStaircaseComparison();return}this.drawThreeStaircaseComparison()}async loadRelatedPosts(){const t=Object.assign({"./posts/01-intro-to-monty-hall.md":()=>u(()=>import("./01-intro-to-monty-hall-D3KeI0wJ.js"),[]).then(e=>e.default),"./posts/02-prisoners-dilemma-strategies.md":()=>u(()=>import("./02-prisoners-dilemma-strategies-Dz3hZ4T1.js"),[]).then(e=>e.default),"./posts/03-staircase-fibonacci.md":()=>u(()=>import("./03-staircase-fibonacci-BvkO1jfw.js"),[]).then(e=>e.default)}),i=document.getElementById("related-posts-container"),n=[];for(const e in t){const s=await t[e](),{data:a}=g(s);a.game==="staircase"&&n.push({slug:a.slug,title:a.title,excerpt:a.excerpt})}if(n.length>0){i.innerHTML="<h3>Related Articles</h3>";const e=document.createElement("div");e.className="related-posts-list",n.forEach(s=>{const a=document.createElement("a");a.href=`./post.html?slug=${s.slug}`,a.className="related-post-card",a.innerHTML=`
                    <h4>${s.title}</h4>
                    <p>${s.excerpt}</p>
                `,e.appendChild(a)}),i.appendChild(e)}}}new w;
