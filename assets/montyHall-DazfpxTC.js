import{m as r,_ as l}from"./index-pHnGcn-R.js";/* empty css              *//* empty css                      */class d{constructor(){this.carDoor=null,this.selectedDoor=null,this.revealedDoor=null,this.gamePhase="initial",this.stats=this.loadStats(),this.initializeGame(),this.setupEventListeners(),this.updateStatsDisplay(),this.loadRelatedPosts()}loadStats(){const t=localStorage.getItem("montyHallStats");return t?JSON.parse(t):{stayWins:0,stayTotal:0,switchWins:0,switchTotal:0}}saveStats(){localStorage.setItem("montyHallStats",JSON.stringify(this.stats))}initializeGame(){this.carDoor=Math.floor(Math.random()*3),this.selectedDoor=null,this.revealedDoor=null,this.gamePhase="initial",document.querySelectorAll(".door").forEach(s=>{s.className="door",s.querySelector(".door-face").textContent=`Door ${parseInt(s.dataset.door)+1}`}),this.updateMessage("Pick a door!")}setupEventListeners(){document.querySelectorAll(".door").forEach(s=>{s.addEventListener("click",()=>this.handleDoorClick(parseInt(s.dataset.door)))}),document.getElementById("reset-btn").addEventListener("click",()=>{this.initializeGame()}),document.getElementById("reset-stats").addEventListener("click",()=>{confirm("Are you sure you want to reset all statistics?")&&this.resetStats()})}handleDoorClick(t){this.gamePhase==="initial"?this.selectDoor(t):this.gamePhase==="revealed"&&this.makeFinalChoice(t)}selectDoor(t){this.selectedDoor=t,document.querySelectorAll(".door")[t].classList.add("selected"),this.revealGoatDoor(),this.gamePhase="revealed",this.updateMessage("A goat is revealed! Do you want to switch or stay with your choice?")}revealGoatDoor(){const t=[0,1,2].filter(a=>a!==this.selectedDoor&&a!==this.carDoor);this.revealedDoor=t[Math.floor(Math.random()*t.length)];const s=document.querySelectorAll(".door");s[this.revealedDoor].classList.add("opened"),s[this.revealedDoor].classList.add("disabled")}makeFinalChoice(t){if(t===this.revealedDoor)return;const s=t!==this.selectedDoor,a=t===this.carDoor;s?(this.stats.switchTotal++,a&&this.stats.switchWins++):(this.stats.stayTotal++,a&&this.stats.stayWins++),this.saveStats(),this.updateStatsDisplay(),this.revealAllDoors(a,s),this.gamePhase="finished"}revealAllDoors(t,s){document.querySelectorAll(".door").forEach(n=>{const c=parseInt(n.dataset.door);n.classList.remove("selected","disabled"),c===this.carDoor?n.classList.add("winner"):n.classList.add("loser")});const e=s?"switched":"stayed",o=t?"won":"lost",i=t?"ðŸŽ‰":"ðŸ˜ž";this.updateMessage(`You ${e} and ${o}! ${i}`)}updateMessage(t){document.getElementById("message").textContent=t}updateStatsDisplay(){document.getElementById("stay-wins").textContent=this.stats.stayWins,document.getElementById("stay-total").textContent=this.stats.stayTotal,document.getElementById("switch-wins").textContent=this.stats.switchWins,document.getElementById("switch-total").textContent=this.stats.switchTotal;const t=this.stats.stayTotal>0?Math.round(this.stats.stayWins/this.stats.stayTotal*100):0,s=this.stats.switchTotal>0?Math.round(this.stats.switchWins/this.stats.switchTotal*100):0;document.getElementById("stay-percent").textContent=`${t}%`,document.getElementById("switch-percent").textContent=`${s}%`,this.updateStrategyAnalysis()}updateStrategyAnalysis(){const t=this.stats.stayTotal>0?this.stats.stayWins/this.stats.stayTotal*100:0,s=this.stats.switchTotal>0?this.stats.switchWins/this.stats.switchTotal*100:0;document.getElementById("stay-actual").textContent=`${t.toFixed(1)}%`,document.getElementById("switch-actual").textContent=`${s.toFixed(1)}%`;const a=t-33.3,e=s-66.7;this.updateVarianceDisplay("stay-variance",a,this.stats.stayTotal),this.updateVarianceDisplay("switch-variance",e,this.stats.switchTotal)}updateVarianceDisplay(t,s,a){const o=document.getElementById(t).querySelector(".variance-value");if(a===0){o.textContent="â€”",o.className="variance-value";return}const i=Math.abs(s),n=s>=0?"+":"";o.textContent=`${n}${s.toFixed(1)}%`,i<5?o.className="variance-value good":i<15?o.className="variance-value okay":o.className="variance-value poor"}resetStats(){this.stats={stayWins:0,stayTotal:0,switchWins:0,switchTotal:0},this.saveStats(),this.updateStatsDisplay()}async loadRelatedPosts(){const t=Object.assign({"./posts/01-intro-to-monty-hall.md":()=>l(()=>import("./01-intro-to-monty-hall-D3KeI0wJ.js"),[]).then(e=>e.default),"./posts/02-prisoners-dilemma-strategies.md":()=>l(()=>import("./02-prisoners-dilemma-strategies-Dz3hZ4T1.js"),[]).then(e=>e.default),"./posts/03-staircase-fibonacci.md":()=>l(()=>import("./03-staircase-fibonacci-BvkO1jfw.js"),[]).then(e=>e.default)}),s=document.getElementById("related-posts-container"),a=[];for(const e in t){const o=await t[e](),{data:i}=r(o);i.game==="monty-hall"&&a.push({slug:i.slug,title:i.title,excerpt:i.excerpt})}if(a.length>0){s.innerHTML="<h3>Related Articles</h3>";const e=document.createElement("div");e.className="related-posts-list",a.forEach(o=>{const i=document.createElement("a");i.href=`./post.html?slug=${o.slug}`,i.className="related-post-card",i.innerHTML=`
                    <h4>${o.title}</h4>
                    <p>${o.excerpt}</p>
                `,e.appendChild(i)}),s.appendChild(e)}}}new d;
