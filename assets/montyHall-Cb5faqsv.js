import"./modulepreload-polyfill-B5Qt9EMX.js";/* empty css              */class r{constructor(){this.carDoor=null,this.selectedDoor=null,this.revealedDoor=null,this.gamePhase="initial",this.stats=this.loadStats(),this.initializeGame(),this.setupEventListeners(),this.updateStatsDisplay()}loadStats(){const t=localStorage.getItem("montyHallStats");return t?JSON.parse(t):{stayWins:0,stayTotal:0,switchWins:0,switchTotal:0}}saveStats(){localStorage.setItem("montyHallStats",JSON.stringify(this.stats))}initializeGame(){this.carDoor=Math.floor(Math.random()*3),this.selectedDoor=null,this.revealedDoor=null,this.gamePhase="initial",document.querySelectorAll(".door").forEach(s=>{s.className="door",s.querySelector(".door-face").textContent=`Door ${parseInt(s.dataset.door)+1}`}),this.updateMessage("Pick a door!")}setupEventListeners(){document.querySelectorAll(".door").forEach(s=>{s.addEventListener("click",()=>this.handleDoorClick(parseInt(s.dataset.door)))}),document.getElementById("reset-btn").addEventListener("click",()=>{this.initializeGame()}),document.getElementById("reset-stats").addEventListener("click",()=>{confirm("Are you sure you want to reset all statistics?")&&this.resetStats()})}handleDoorClick(t){this.gamePhase==="initial"?this.selectDoor(t):this.gamePhase==="revealed"&&this.makeFinalChoice(t)}selectDoor(t){this.selectedDoor=t,document.querySelectorAll(".door")[t].classList.add("selected"),this.revealGoatDoor(),this.gamePhase="revealed",this.updateMessage("A goat is revealed! Do you want to switch or stay with your choice?")}revealGoatDoor(){const t=[0,1,2].filter(e=>e!==this.selectedDoor&&e!==this.carDoor);this.revealedDoor=t[Math.floor(Math.random()*t.length)];const s=document.querySelectorAll(".door");s[this.revealedDoor].classList.add("opened"),s[this.revealedDoor].classList.add("disabled")}makeFinalChoice(t){if(t===this.revealedDoor)return;const s=t!==this.selectedDoor,e=t===this.carDoor;s?(this.stats.switchTotal++,e&&this.stats.switchWins++):(this.stats.stayTotal++,e&&this.stats.stayWins++),this.saveStats(),this.updateStatsDisplay(),this.revealAllDoors(e,s),this.gamePhase="finished"}revealAllDoors(t,s){document.querySelectorAll(".door").forEach(a=>{const n=parseInt(a.dataset.door);a.classList.remove("selected","disabled"),n===this.carDoor?a.classList.add("winner"):a.classList.add("loser")});const o=s?"switched":"stayed",i=t?"won":"lost",l=t?"ðŸŽ‰":"ðŸ˜ž";this.updateMessage(`You ${o} and ${i}! ${l}`)}updateMessage(t){document.getElementById("message").textContent=t}updateStatsDisplay(){document.getElementById("stay-wins").textContent=this.stats.stayWins,document.getElementById("stay-total").textContent=this.stats.stayTotal,document.getElementById("switch-wins").textContent=this.stats.switchWins,document.getElementById("switch-total").textContent=this.stats.switchTotal;const t=this.stats.stayTotal>0?Math.round(this.stats.stayWins/this.stats.stayTotal*100):0,s=this.stats.switchTotal>0?Math.round(this.stats.switchWins/this.stats.switchTotal*100):0;document.getElementById("stay-percent").textContent=`${t}%`,document.getElementById("switch-percent").textContent=`${s}%`}resetStats(){this.stats={stayWins:0,stayTotal:0,switchWins:0,switchTotal:0},this.saveStats(),this.updateStatsDisplay()}}new r;
