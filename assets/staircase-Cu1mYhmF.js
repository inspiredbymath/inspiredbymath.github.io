import"./modulepreload-polyfill-B5Qt9EMX.js";/* empty css              */class u{constructor(){this.canvas=document.getElementById("staircase-canvas"),this.ctx=this.canvas.getContext("2d"),this.comparisonCanvas=document.getElementById("comparison-canvas"),this.comparisonCtx=this.comparisonCanvas.getContext("2d"),this.steps=5,this.paths=[],this.currentPathIndex=0,this.isAnimating=!1,this.animationFrame=null,this.setupEventListeners(),this.calculatePaths(),this.draw()}setupEventListeners(){document.getElementById("steps-slider").addEventListener("input",t=>{this.steps=parseInt(t.target.value),document.getElementById("steps-value").textContent=this.steps,this.currentPathIndex=0,this.stopAnimation(),this.calculatePaths(),this.draw()}),document.getElementById("animate-btn").addEventListener("click",()=>{this.animateAllPaths()}),document.getElementById("step-btn").addEventListener("click",()=>{this.showNextPath()}),document.getElementById("reset-btn").addEventListener("click",()=>{this.reset()})}calculatePaths(){this.paths=[],this.findPaths(0,[]),this.updateStats(),this.displayPathsList()}findPaths(t,i){if(t===this.steps){this.paths.push([...i]);return}t>this.steps||(i.push(1),this.findPaths(t+1,i),i.pop(),i.push(2),this.findPaths(t+2,i),i.pop())}draw(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.drawStaircase(),this.currentPathIndex>0&&this.currentPathIndex<=this.paths.length&&this.drawPath(this.paths[this.currentPathIndex-1]),this.drawComparison()}drawStaircase(){const s=this.canvas.height-50;this.ctx.fillStyle="#e5e7eb",this.ctx.fillRect(0,s,this.canvas.width,50);for(let e=0;e<=this.steps;e++){const a=50+e*60,r=s-e*40;this.ctx.fillStyle="#8b5cf6",this.ctx.strokeStyle="#5b21b6",this.ctx.lineWidth=3,this.ctx.fillRect(a,r,60,40),this.ctx.strokeRect(a,r,60,40),this.ctx.fillStyle="white",this.ctx.font="bold 20px Arial",this.ctx.textAlign="center",this.ctx.textBaseline="middle",this.ctx.fillText(e,a+60/2,r+40/2)}}drawPath(t){const e=this.canvas.height-50;this.ctx.strokeStyle="#f59e0b",this.ctx.lineWidth=4,this.ctx.lineCap="round",this.ctx.lineJoin="round";let a=0,r=50+60/2,h=e+40/2;this.ctx.beginPath(),this.ctx.moveTo(r,h),this.ctx.fillStyle="#10b981",this.ctx.beginPath(),this.ctx.arc(r,h,12,0,Math.PI*2),this.ctx.fill();for(let o of t){a+=o,r=50+a*60+60/2,h=e-a*40+40/2,this.ctx.strokeStyle=o===1?"#3b82f6":"#ef4444",this.ctx.beginPath();const l=50+(a-o)*60+60/2,c=e-(a-o)*40+40/2;this.ctx.moveTo(l,c),this.ctx.lineTo(r,h),this.ctx.stroke();const p=(l+r)/2,d=(c+h)/2;this.ctx.fillStyle=o===1?"#3b82f6":"#ef4444",this.ctx.font="bold 16px Arial",this.ctx.textAlign="center",this.ctx.fillText(`+${o}`,p,d-15)}this.ctx.fillStyle="#ef4444",this.ctx.beginPath(),this.ctx.arc(r,h,12,0,Math.PI*2),this.ctx.fill()}updateStats(){const t=this.paths.length,i=this.steps+1;if(document.getElementById("total-ways").textContent=t,document.getElementById("fibonacci-info").textContent=`F(${i}) = ${t}`,this.currentPathIndex>0){const s=this.paths[this.currentPathIndex-1].map(e=>`+${e}`).join(" ");document.getElementById("current-path").textContent=`${this.currentPathIndex}/${t}: ${s}`}else document.getElementById("current-path").textContent="-"}displayPathsList(){const t=document.getElementById("paths-container");if(t.innerHTML="",this.paths.length>20){t.innerHTML='<p style="color: #666;">Too many paths to display (>20). Use the animation or step-through to view them.</p>';return}this.paths.forEach((i,n)=>{const s=document.createElement("div");s.className="path-item",s.textContent=`${n+1}. ${i.map(e=>`+${e}`).join(" â†’ ")} = ${this.steps}`,t.appendChild(s)})}showNextPath(){this.paths.length!==0&&(this.currentPathIndex=this.currentPathIndex%this.paths.length+1,this.updateStats(),this.draw())}async animateAllPaths(){if(this.isAnimating){this.stopAnimation();return}this.isAnimating=!0,document.getElementById("animate-btn").textContent="Stop Animation";for(let t=1;t<=this.paths.length&&this.isAnimating;t++)this.currentPathIndex=t,this.updateStats(),this.draw(),await this.sleep(1e3);this.isAnimating=!1,document.getElementById("animate-btn").textContent="Animate All Paths"}stopAnimation(){this.isAnimating=!1,document.getElementById("animate-btn").textContent="Animate All Paths"}sleep(t){return new Promise(i=>setTimeout(i,t))}reset(){this.currentPathIndex=0,this.stopAnimation(),this.updateStats(),this.draw()}calculatePathsForN(t){const i=[],n=(s,e)=>{if(s===t){i.push([...e]);return}s>t||(e.push(1),n(s+1,e),e.pop(),e.push(2),n(s+2,e),e.pop())};return n(0,[]),i}darkenColor(t){return{"#ef4444":"#dc2626","#f59e0b":"#d97706","#10b981":"#059669","#8b5cf6":"#5b21b6"}[t]||"#000000"}drawMiniPath(t,i,n,s,e,a){t.strokeStyle="rgba(59, 130, 246, 0.3)",t.lineWidth=2,t.lineCap="round";let r=0,h=n+e/2,o=s+a/2;t.beginPath(),t.moveTo(h,o);for(let l of i)r+=l,h=n+r*e+e/2,o=s-r*a+a/2,t.lineTo(h,o);t.stroke()}drawMiniStaircase(t,i,n,s,e,a,r=!1){const h=50*e,o=35*e,l=n,c=s,p=this.calculatePathsForN(i);for(let d=0;d<=i;d++){const m=l+d*h,f=c-d*o;t.fillStyle=a,t.strokeStyle=this.darkenColor(a),t.lineWidth=2,t.fillRect(m,f,h,o),t.strokeRect(m,f,h,o),t.fillStyle="white",t.font=`bold ${14*e}px Arial`,t.textAlign="center",t.textBaseline="middle",t.fillText(d,m+h/2,f+o/2)}return r&&p.forEach(d=>{this.drawMiniPath(t,d,l,c,h,o)}),{count:p.length,centerX:l+i*h/2,topY:c-i*o-20,bottomY:c+o+10}}drawStaircaseLabel(t,i,n,s,e){t.fillStyle="#1f2937",t.font="bold 16px Arial",t.textAlign="center",t.fillText(i,n,s),t.fillStyle="#667eea",t.font="bold 20px Arial",t.fillText(`${e} ways`,n,s+25)}drawMathEquation(t,i,n,s){const a=this.comparisonCanvas.width/2;t.fillStyle="#1f2937",t.font="bold 24px Arial",t.textAlign="center";const r=`${i.count} + ${n.count} = ${s.count}`;t.fillText(r,a,30),t.font="16px Arial",t.fillStyle="#6b7280",t.fillText("ways(N-2) + ways(N-1) = ways(N)",a,55)}drawCurvedArrow(t,i,n,s,e,a){t.strokeStyle=a,t.fillStyle=a,t.lineWidth=2;const r=(i+s)/2,h=Math.min(n,e)-20;t.beginPath(),t.moveTo(i,n),t.quadraticCurveTo(r,h,s,e),t.stroke();const o=Math.atan2(e-h,s-r),l=10;t.beginPath(),t.moveTo(s,e),t.lineTo(s-l*Math.cos(o-Math.PI/6),e-l*Math.sin(o-Math.PI/6)),t.lineTo(s-l*Math.cos(o+Math.PI/6),e-l*Math.sin(o+Math.PI/6)),t.closePath(),t.fill()}drawCombinationArrows(t,i,n,s){this.drawCurvedArrow(t,i.centerX,70,s.centerX-40,90,"#ef4444"),this.drawCurvedArrow(t,n.centerX,70,s.centerX-20,80,"#f59e0b")}drawThreeStaircaseComparison(){const t=this.comparisonCtx,i=this.comparisonCanvas.width,n=this.comparisonCanvas.height,s=Math.min(1,8/this.steps),e=i/4,a=n-80,r=this.steps-2,h=this.drawMiniStaircase(t,r,e*.5,a,s,"#ef4444",!0),o=this.steps-1,l=this.drawMiniStaircase(t,o,e*1.5,a,s,"#f59e0b",!0),c=this.drawMiniStaircase(t,this.steps,e*2.5,a,s,"#10b981",!0);this.drawStaircaseLabel(t,`N-2 = ${r}`,h.centerX,h.bottomY,h.count),this.drawStaircaseLabel(t,`N-1 = ${o}`,l.centerX,l.bottomY,l.count),this.drawStaircaseLabel(t,`N = ${this.steps}`,c.centerX,c.bottomY,c.count),this.drawMathEquation(t,h,l,c),this.drawCombinationArrows(t,h,l,c)}drawTwoStaircaseComparison(){const t=this.comparisonCtx,i=this.comparisonCanvas.width,n=this.comparisonCanvas.height-100,s=i/3,e=this.drawMiniStaircase(t,1,s*.5,n,1,"#f59e0b",!0),a=this.drawMiniStaircase(t,2,s*1.5,n,1,"#10b981",!0);this.drawStaircaseLabel(t,"N-1 = 1",e.centerX,e.bottomY,e.count),this.drawStaircaseLabel(t,"N = 2",a.centerX,a.bottomY,a.count),t.fillStyle="#1f2937",t.font="bold 20px Arial",t.textAlign="center",t.fillText(`${e.count} + 1 = ${a.count}`,i/2,40),t.font="16px Arial",t.fillStyle="#6b7280",t.fillText("(N-2 = 0, so we use 1 as the base)",i/2,65)}drawSingleStaircaseComparison(){const t=this.comparisonCtx,i=this.comparisonCanvas.width/2,n=this.comparisonCanvas.height-100,s=this.drawMiniStaircase(t,1,i-40,n,1,"#10b981",!0);this.drawStaircaseLabel(t,"N = 1",s.centerX,s.bottomY,s.count),t.fillStyle="#6b7280",t.font="18px Arial",t.textAlign="center",t.fillText("Base case: Only one way to climb 1 step",i,40)}drawComparison(){if(this.comparisonCtx.clearRect(0,0,this.comparisonCanvas.width,this.comparisonCanvas.height),this.steps===1){this.drawSingleStaircaseComparison();return}if(this.steps===2){this.drawTwoStaircaseComparison();return}this.drawThreeStaircaseComparison()}}new u;
